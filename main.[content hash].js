(()=>{"use strict";class e{constructor(e,t){this._config=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}_showError(e){const t=this._formElement.querySelector(`.${e.id}-error`);e.classList.add(this._config.inputErrorClass),t.classList.add(this._config.errorClass),t.textContent=e.validationMessage}_hideError(e){const t=this._formElement.querySelector(`.${e.id}-error`);e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideError(e):this._showError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}setButtonState(){this._toggleButtonState()}setInputValidity(){this._inputList.forEach((e=>{this._checkInputValidity(e)}))}setState(){this._toggleButtonState(),this.setInputValidity()}enableValidation(){this._setEventListeners()}}const t=document.querySelector("#button_edit"),s=document.querySelector("#button_add"),i=document.querySelector(".profile__edit-avatar"),n=document.querySelector("#cardsAddForm"),r=document.querySelector("#profileEditForm"),o=document.querySelector("#avatarEditForm"),a={inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible"};class l{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}_close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this._close()}setEventListeners(){this._closeButton=this._popup.querySelector(".popup__close"),this._closeButton.addEventListener("click",(()=>{this._close()})),this._popup.addEventListener("mousedown",(e=>{e.target===this._popup&&this._close()}))}}class c extends l{constructor(e,{callBack:t,submit:s}){super(e),this._callBack=t,this._submit=s,this._formElement=this._popup.querySelector(".form"),this._inputList=this._popup.querySelectorAll(".form__input"),this._button=this._popup.querySelector(".form__button"),this.setEventListeners()}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}open(e,t){super.open(),this._cardId=e,this._element=t}changeButtonState(e,t,s){this._button.textContent=e?s:t}_close(){super._close(),this._formElement&&("cardsAddForm"!==this._formElement.id&&"avatarEditForm"!==this._formElement.id||this._formElement.reset())}setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._submit&&this._submit(this._cardId,this._element),this._callBack&&this._callBack(this._getInputValues()),this._close()}))}}class h{constructor(e,t,{handleCardClick:s,handleLikeClick:i,handleDeleteButtonClick:n},r){this._name=e.name,this._link=e.link,this._templateSelector=t,this._handleCardClick=s,this._handleLikeClick=i,this._handleDeleteButtonClick=n,this._cardId=e._id,this._userId=r,this._ownerId=e.owner._id,this._likes=e.likes}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}_setData(){this._cardImage=this._element.querySelector(".card__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardName=this._element.querySelector(".card__title"),this._cardName.textContent=this._name}_isLiked(){let e=!1;return this._likes.forEach((t=>{t._id===this._userId&&(e=!0)})),e}numberOfLikes(e){this._likeCounter=this._element.querySelector(".card__like-counter"),this._likeCounter.textContent=e}_setEventListeners(){this._deleteButton.addEventListener("click",(()=>{this._handleDeleteButtonClick(this._cardId,this._element)})),this._cardImage.addEventListener("click",(()=>{this._handleCardClick({name:this._name,link:this._link})})),this._cardLike.addEventListener("click",(()=>{this._cardLike.classList.toggle("card__like_active"),this._cardLike.classList.contains("card__like_active")?this._handleLikeClick("PUT",this._cardId):this._handleLikeClick("DELETE",this._cardId)}))}generateCard(){return this._element=this._getTemplate(),this.numberOfLikes(this._likes.length),this._cardLike=this._element.querySelector(".card__like"),this._deleteButton=this._element.querySelector(".card__delete"),this._isLiked()&&this._cardLike.classList.add("card__like_active"),this._userId!==this._ownerId&&this._deleteButton.remove(),this._setData(),this._setEventListeners(),this._element}}const _=new class{constructor(e){this._config=e}_getResponseData(e){return e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)}getProfile(){return fetch(`${this._config.url}/users/me`,{headers:this._config.headers}).then((e=>this._getResponseData(e)))}getCards(){return fetch(`${this._config.url}/cards`,{headers:this._config.headers}).then((e=>this._getResponseData(e)))}editProfile(e){return fetch(`${this._config.url}/users/me`,{method:"PATCH",headers:this._config.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((e=>this._getResponseData(e)))}addCard(e){return fetch(`${this._config.url}/cards`,{method:"POST",headers:this._config.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((e=>this._getResponseData(e)))}handleControlLikes(e,t){return fetch(`${this._config.url}/cards/${t}/likes`,{method:e,headers:this._config.headers}).then((e=>this._getResponseData(e)))}deleteCard(e){return fetch(`${this._config.url}/cards/${e}`,{method:"DELETE",headers:this._config.headers}).then((e=>this._getResponseData(e)))}editAvatar(e){return fetch(`${this._config.url}/users/me/avatar`,{method:"PATCH",headers:this._config.headers,body:JSON.stringify({avatar:e})}).then((e=>this._getResponseData(e)))}}({url:"https://nomoreparties.co/v1/cohort-60",headers:{authorization:"0823f3d8-cee4-4f0b-9f88-c1dcbe025215","Content-Type":"application/json"}}),d=new class{constructor({nameSelector:e,aboutUserSelector:t,userSelector:s}){this._name=document.querySelector(e),this._aboutUser=document.querySelector(t),this._userAvatar=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent,about:this._aboutUser.textContent}}setUserInfo(e){this._name.textContent=e.name,this._aboutUser.textContent=e.about,this._userAvatar.src=e.avatar,this._userId=e._id}getUserId(){return this._userId}}({nameSelector:".profile__title",aboutUserSelector:".profile__subtitle",userSelector:".profile__avatar"});Promise.all([_.getProfile(),_.getCards()]).then((([e,t])=>{d.setUserInfo(e),m.renderItems(t)})).catch((e=>console.log(`Ошибка: ${e}`)));const u=e=>{const t=new h(e,"#card-template",{handleCardClick:e=>{p.open(e)},handleLikeClick:(e,s)=>{_.handleControlLikes(e,s).then((e=>{t.numberOfLikes(e.likes.length)})).catch((e=>console.log(`Ошибка: ${e}`)))},handleDeleteButtonClick:(e,t)=>{k.open(e,t)}},d.getUserId()),s=t.generateCard();m.addItem(s)},m=new class{constructor({renderer:e},t){this._renderer=e,this._container=document.querySelector(t)}addItem(e){this._container.append(e)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:e=>{u(e)}},".places"),p=new class extends l{constructor(e){super(e),this._image=this._popup.querySelector(".popup__image"),this._title=this._popup.querySelector(".popup__title"),this.setEventListeners()}open(e){super.open(),this._image.src=e.link,this._image.alt=e.name,this._title.textContent=e.name}}("#popup_photo"),g=new c("#popup_add",{callBack:e=>{g.changeButtonState(!0,"Создать","Создание..."),_.addCard(e).then((e=>{u(e)})).catch((e=>console.log(`Ошибка: ${e}`))).finally((()=>g.changeButtonState(!1,"Создать","Создание...")))}}),f=new c("#popup_edit",{callBack:e=>{f.changeButtonState(!0,"Сохранить","Сохранение..."),_.editProfile(e).then((e=>{d.setUserInfo(e)})).catch((e=>console.log(`Ошибка: ${e}`))).finally((()=>f.changeButtonState(!1,"Сохранить","Сохранение...")))},submit:null}),k=new c("#popup_delete-card",{callBack:null,submit:(e,t)=>{k.changeButtonState(!0,"Да","Удаление..."),_.deleteCard(e).then((()=>{t.remove()})).catch((e=>console.log(`Ошибка: ${e}`))).finally((()=>k.changeButtonState(!1,"Да","Удаление...")))}}),E=new c("#popup_edit-avatar",{callBack:e=>{E.changeButtonState(!0,"Сохранить","Сохранение..."),_.editAvatar(e.link).then((e=>{d.setUserInfo(e)})).catch((e=>console.log(`Ошибка: ${e}`))).finally((()=>E.changeButtonState(!1,"Сохранить","Сохранение...")))},submit:null}),S=new e(a,n),v=new e(a,r),L=new e(a,o);t.addEventListener("click",(()=>{const e=d.getUserInfo();f.setInputValues(e),f.open(),v.setState()})),s.addEventListener("click",(()=>{g.open(),S.setButtonState()})),i.addEventListener("click",(()=>{E.open(),L.setButtonState()})),L.enableValidation(),v.enableValidation(),S.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBTUUsRUFBd0I3RyxtQkFBa0IsRUFBTyxZQUFhLGtCQUFpQixFQUV0R2hCLE9BQVEsT0FHTjhILEVBQXdCLElBQUkvTCxFQUFjaUQsRUFBa0JILEdBQzVEa0osRUFBMkIsSUFBSWhNLEVBQWNpRCxFQUFrQkYsR0FDL0RrSixFQUEwQixJQUFJak0sRUFBY2lELEVBQWtCRCxHQUVwRU4sRUFBa0JMLGlCQUFpQixTQUFTLEtBQ3hDLE1BQU11QyxFQUFjOEUsRUFBU00sY0FDN0I2QixFQUF5QmxILGVBQWVDLEdBQ3hDaUgsRUFBeUJ0SSxPQUN6QnlJLEVBQXlCeEosVUFBVSxJQUd2Q0ksRUFBZVAsaUJBQWlCLFNBQVMsS0FDckNzSixFQUFzQnBJLE9BQ3RCd0ksRUFBc0J6SixnQkFBZ0IsSUFHMUNPLEVBQWFSLGlCQUFpQixTQUFTLEtBQ25DeUosRUFBd0J2SSxPQUN4QjBJLEVBQXdCM0osZ0JBQWdCLElBSTVDMkosRUFBd0J4SixtQkFDeEJ1SixFQUF5QnZKLG1CQUN6QnNKLEVBQXNCdEosa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93RXJyb3IoaW5wdXRFbGVtZW50KXtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUVycm9yKGlucHV0RWxlbWVudCl7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCl7XHJcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCl7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKXtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0SW5wdXRWYWxpZGl0eSgpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRTdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpXHJcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbGlkaXR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpe1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J1dHRvbl9lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwaG90b0FkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidXR0b25fYWRkJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1hdmF0YXInKVxyXG5leHBvcnQgY29uc3QgY2FyZHNBZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmRzQWRkRm9ybScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2ZpbGVFZGl0Rm9ybScpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXZhdGFyRWRpdEZvcm0nKTtcclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fYnV0dG9uX2luYWN0aXZlJyxcclxuICAgIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0LWVycm9yX3Zpc2libGUnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXBpQ29uZmlnID0ge1xyXG4gICAgdXJsOiAnaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogJzA4MjNmM2Q4LWNlZTQtNGYwYi05Zjg4LWMxZGNiZTAyNTIxNScsXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKXtcclxuICAgICAgICAgICAgdGhpcy5fY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1BvcHVwfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCB7Y2FsbEJhY2ssIHN1Ym1pdH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9jYWxsQmFjayA9IGNhbGxCYWNrO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdCA9IHN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm1fX2J1dHRvbicpO1xyXG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKXtcclxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBmb3JtRGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVybiBmb3JtRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRJbnB1dFZhbHVlcyhpbnB1dFZhbHVlcykge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oY2FyZElkLCBlbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAgICAgY2hhbmdlQnV0dG9uU3RhdGUoaXNMb2FkLCBjdXJyZW50U3RhdGUsIGxvYWRpbmdTdGF0ZSkge1xyXG4gICAgICAgIGlmIChpc0xvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1N0YXRlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gY3VycmVudFN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuX2Nsb3NlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb3JtRWxlbWVudC5pZCA9PT0gJ2NhcmRzQWRkRm9ybScgfHwgdGhpcy5fZm9ybUVsZW1lbnQuaWQgPT09ICdhdmF0YXJFZGl0Rm9ybScpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3VibWl0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJtaXQodGhpcy5fY2FyZElkLCB0aGlzLl9lbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FsbEJhY2spIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxCYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCB7aGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrfSwgdXNlcklkKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2sgPSBoYW5kbGVEZWxldGVCdXR0b25DbGljaztcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAgICAgICAuY29udGVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmNhcmQnKVxyXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldERhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9jYXJkTmFtZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJylcclxuICAgICAgICB0aGlzLl9jYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgX2lzTGlrZWQoKSB7XHJcbiAgICAgICAgbGV0IGlzTGlrZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9saWtlcy5mb3JFYWNoKChsaWtlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBpc0xpa2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGlzTGlrZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgbnVtYmVyT2ZMaWtlcyAobnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50ZXInKTtcclxuICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IG51bWJlcjtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b25DbGljayh0aGlzLl9jYXJkSWQsIHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlX2FjdGl2ZScpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmRfX2xpa2VfYWN0aXZlJykpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKCdQVVQnLCB0aGlzLl9jYXJkSWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKCdERUxFVEUnLCB0aGlzLl9jYXJkSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5udW1iZXJPZkxpa2VzKHRoaXMuX2xpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlJyk7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzTGlrZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QuYWRkKCdjYXJkX19saWtlX2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zZXREYXRhKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHtcclxuICAgIHZhbGlkYXRpb25Db25maWcsXHJcbiAgICBwcm9maWxlRWRpdEJ1dHRvbixcclxuICAgIHBob3RvQWRkQnV0dG9uLFxyXG4gICAgYXZhdGFyQnV0dG9uLFxyXG4gICAgY2FyZHNBZGRGb3JtLFxyXG4gICAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gICAgYXZhdGFyRWRpdEZvcm0sXHJcbiAgICBhcGlDb25maWdcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0ICcuL2luZGV4LmNzcydcclxuaW1wb3J0IHtQb3B1cFdpdGhJbWFnZX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcclxuaW1wb3J0IHtDYXJkfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCB7QXBpfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX190aXRsZScsXHJcbiAgICBhYm91dFVzZXJTZWxlY3RvcjogJy5wcm9maWxlX19zdWJ0aXRsZScsXHJcbiAgICB1c2VyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJ1xyXG59KTtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0UHJvZmlsZSgpLCBhcGkuZ2V0Q2FyZHMoKV0pXHJcbiAgICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc0RhdGFdKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmRzRGF0YSk7XHJcbn0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApKVxyXG5cclxuXHJcbmNvbnN0IHJlbmRlckNhcmQgPSAoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0sICcjY2FyZC10ZW1wbGF0ZScsIHtcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVMaWtlQ2xpY2s6IChyZXF1ZXN0LCBjYXJkSWQpID0+IHtcclxuICAgICAgICAgICAgYXBpLmhhbmRsZUNvbnRyb2xMaWtlcyhyZXF1ZXN0LCBjYXJkSWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZC5udW1iZXJPZkxpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2s6IChjYXJkSWQsIGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBXaXRoRGVsZXRpb25Db25maXJtYXRpb25Gb3JtLm9wZW4oY2FyZElkLCBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgICAgIHVzZXJJbmZvLmdldFVzZXJJZCgpXHJcbiAgICApO1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbn1cclxuXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24gKHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIHJlbmRlckNhcmQoaXRlbSk7XHJcbiAgICB9XHJcblxyXG59LCAnLnBsYWNlcycpO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNwb3B1cF9waG90bycpO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoQWRkUGhvdG9Gb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cF9hZGQnLCB7XHJcbiAgICBjYWxsQmFjazogKGl0ZW0pID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhBZGRQaG90b0Zvcm0uY2hhbmdlQnV0dG9uU3RhdGUodHJ1ZSwgJ9Ch0L7Qt9C00LDRgtGMJywgJ9Ch0L7Qt9C00LDQvdC40LUuLi4nKTtcclxuICAgICAgICBhcGkuYWRkQ2FyZChpdGVtKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJDYXJkKHJlcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCkpXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHBvcHVwV2l0aEFkZFBob3RvRm9ybS5jaGFuZ2VCdXR0b25TdGF0ZShmYWxzZSwgJ9Ch0L7Qt9C00LDRgtGMJywgJ9Ch0L7Qt9C00LDQvdC40LUuLi4nKSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoRWRpdFByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cF9lZGl0Jywge1xyXG4gICAgY2FsbEJhY2s6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgcG9wdXBXaXRoRWRpdFByb2ZpbGVGb3JtLmNoYW5nZUJ1dHRvblN0YXRlKHRydWUsICfQodC+0YXRgNCw0L3QuNGC0YwnLCAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgICBhcGkuZWRpdFByb2ZpbGUoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKSlcclxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBXaXRoRWRpdFByb2ZpbGVGb3JtLmNoYW5nZUJ1dHRvblN0YXRlKGZhbHNlLCAn0KHQvtGF0YDQsNC90LjRgtGMJywgJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJykpXHJcblxyXG4gICAgfSxcclxuICAgIHN1Ym1pdDogbnVsbFxyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aERlbGV0aW9uQ29uZmlybWF0aW9uRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXBfZGVsZXRlLWNhcmQnLCB7XHJcbiAgICBjYWxsQmFjazogbnVsbCxcclxuICAgIHN1Ym1pdDogKGNhcmRJZCwgZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIHBvcHVwV2l0aERlbGV0aW9uQ29uZmlybWF0aW9uRm9ybS5jaGFuZ2VCdXR0b25TdGF0ZSh0cnVlLCAn0JTQsCcsICfQo9C00LDQu9C10L3QuNC1Li4uJylcclxuICAgICAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCkpXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHBvcHVwV2l0aERlbGV0aW9uQ29uZmlybWF0aW9uRm9ybS5jaGFuZ2VCdXR0b25TdGF0ZShmYWxzZSwgJ9CU0LAnLCAn0KPQtNCw0LvQtdC90LjQtS4uLicpKVxyXG4gICAgfSxcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhFZGl0QXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXBfZWRpdC1hdmF0YXInLCB7XHJcbiAgICBjYWxsQmFjazogKGRhdGEpID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhFZGl0QXZhdGFyRm9ybS5jaGFuZ2VCdXR0b25TdGF0ZSh0cnVlLCAn0KHQvtGF0YDQsNC90LjRgtGMJywgJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJylcclxuICAgICAgICBhcGkuZWRpdEF2YXRhcihkYXRhLmxpbmspXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKSlcclxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBXaXRoRWRpdEF2YXRhckZvcm0uY2hhbmdlQnV0dG9uU3RhdGUoZmFsc2UsICfQodC+0YXRgNCw0L3QuNGC0YwnLCAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKSlcclxuICAgIH0sXHJcbiAgICBzdWJtaXQ6IG51bGxcclxufSlcclxuXHJcbmNvbnN0IGNhcmRzQWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGNhcmRzQWRkRm9ybSk7XHJcbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHByb2ZpbGVFZGl0Rm9ybSk7XHJcbmNvbnN0IGVkaXRBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgYXZhdGFyRWRpdEZvcm0pO1xyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgICBwb3B1cFdpdGhFZGl0UHJvZmlsZUZvcm0uc2V0SW5wdXRWYWx1ZXMoaW5wdXRWYWx1ZXMpO1xyXG4gICAgcG9wdXBXaXRoRWRpdFByb2ZpbGVGb3JtLm9wZW4oKTtcclxuICAgIGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci5zZXRTdGF0ZSgpO1xyXG59KTtcclxuXHJcbnBob3RvQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcG9wdXBXaXRoQWRkUGhvdG9Gb3JtLm9wZW4oKTtcclxuICAgIGNhcmRzQWRkRm9ybVZhbGlkYXRvci5zZXRCdXR0b25TdGF0ZSgpO1xyXG59KVxyXG5cclxuYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcG9wdXBXaXRoRWRpdEF2YXRhckZvcm0ub3BlbigpO1xyXG4gICAgZWRpdEF2YXRhckZvcm1WYWxpZGF0b3Iuc2V0QnV0dG9uU3RhdGUoKTtcclxufSlcclxuXHJcblxyXG5lZGl0QXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRzQWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7IiwiZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFJlc3BvbnNlRGF0YShyZXMpIHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9maWxlKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9jb25maWcudXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fY29uZmlnLnVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpXHJcbiAgICB9XHJcbiAgICBlZGl0UHJvZmlsZShkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2NvbmZpZy51cmx9L3VzZXJzL21lYCwgICAge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogZGF0YS5hYm91dFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKVxyXG4gICAgfVxyXG5cclxuICAgIGFkZENhcmQoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9jb25maWcudXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAgZGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgbGluazogZGF0YS5saW5rXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpXHJcbiAgICB9XHJcbiAgICBoYW5kbGVDb250cm9sTGlrZXMocmVxdWVzdCwgY2FyZElkKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fY29uZmlnLnVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2NvbmZpZy51cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fY29uZmlnLmhlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpXHJcbiAgICB9XHJcblxyXG4gICAgZWRpdEF2YXRhcihsaW5rKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2NvbmZpZy51cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9jb25maWcuaGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBsaW5rXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpXHJcbiAgICB9XHJcbn0iLCJcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgYWJvdXRVc2VyU2VsZWN0b3IsIHVzZXJTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hYm91dFVzZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0VXNlclNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl91c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvICgpIHtcclxuICAgICAgICByZXR1cm4geyBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LCBhYm91dDogdGhpcy5fYWJvdXRVc2VyLnRleHRDb250ZW50IH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fYWJvdXRVc2VyLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgICAgICB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IGRhdGEuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlcklkO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKGNhcmRzKXtcclxuICAgICAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGNhcmQpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1BvcHVwfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX190aXRsZScpO1xyXG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGRhdGEpIHtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0Vycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlRXJyb3IiLCJyZW1vdmUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRCdXR0b25TdGF0ZSIsInNldElucHV0VmFsaWRpdHkiLCJzZXRTdGF0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwcm9maWxlRWRpdEJ1dHRvbiIsImRvY3VtZW50IiwicGhvdG9BZGRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJjYXJkc0FkZEZvcm0iLCJwcm9maWxlRWRpdEZvcm0iLCJhdmF0YXJFZGl0Rm9ybSIsInZhbGlkYXRpb25Db25maWciLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsIl9jbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsIl9jbG9zZUJ1dHRvbiIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsQmFjayIsInN1Ym1pdCIsInN1cGVyIiwiX2NhbGxCYWNrIiwiX3N1Ym1pdCIsIl9idXR0b24iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtRGF0YSIsImlucHV0IiwibmFtZSIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImNhcmRJZCIsImVsZW1lbnQiLCJfY2FyZElkIiwiX2VsZW1lbnQiLCJjaGFuZ2VCdXR0b25TdGF0ZSIsImlzTG9hZCIsImN1cnJlbnRTdGF0ZSIsImxvYWRpbmdTdGF0ZSIsInJlc2V0IiwicHJldmVudERlZmF1bHQiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b25DbGljayIsInVzZXJJZCIsIl9uYW1lIiwiX2xpbmsiLCJsaW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVCdXR0b25DbGljayIsIl9pZCIsIl91c2VySWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX2xpa2VzIiwibGlrZXMiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldERhdGEiLCJfY2FyZEltYWdlIiwic3JjIiwiYWx0IiwiX2NhcmROYW1lIiwiX2lzTGlrZWQiLCJpc0xpa2VkIiwibGlrZSIsIm51bWJlck9mTGlrZXMiLCJudW1iZXIiLCJfbGlrZUNvdW50ZXIiLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRMaWtlIiwidG9nZ2xlIiwiY29udGFpbnMiLCJnZW5lcmF0ZUNhcmQiLCJsZW5ndGgiLCJhcGkiLCJfZ2V0UmVzcG9uc2VEYXRhIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldFByb2ZpbGUiLCJmZXRjaCIsInVybCIsImhlYWRlcnMiLCJ0aGVuIiwiZ2V0Q2FyZHMiLCJlZGl0UHJvZmlsZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhZGRDYXJkIiwiaGFuZGxlQ29udHJvbExpa2VzIiwicmVxdWVzdCIsImRlbGV0ZUNhcmQiLCJlZGl0QXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRVc2VyU2VsZWN0b3IiLCJ1c2VyU2VsZWN0b3IiLCJfYWJvdXRVc2VyIiwiX3VzZXJBdmF0YXIiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZ2V0VXNlcklkIiwiYWxsIiwidXNlckRhdGEiLCJjYXJkc0RhdGEiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicmVuZGVyQ2FyZCIsIml0ZW0iLCJjYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJwb3B1cFdpdGhEZWxldGlvbkNvbmZpcm1hdGlvbkZvcm0iLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFwcGVuZCIsImNhcmRzIiwiX2ltYWdlIiwiX3RpdGxlIiwicG9wdXBXaXRoQWRkUGhvdG9Gb3JtIiwiZmluYWxseSIsInBvcHVwV2l0aEVkaXRQcm9maWxlRm9ybSIsInBvcHVwV2l0aEVkaXRBdmF0YXJGb3JtIiwiY2FyZHNBZGRGb3JtVmFsaWRhdG9yIiwiZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9